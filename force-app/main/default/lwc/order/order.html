<template>
  <div class="slds-size_3-of-4 order">
    <lightning-card>
      <template if:true={userName}>
        <div class="user-name">
          <div
            class="slds-text-heading_medium slds-text-color_inverse slds-m-left_medium slds-m-bottom_small"
          >
            Hello, {userName}!
          </div>
        </div>
      </template>
    </lightning-card>
  </div>

  <div class="slds-size_3-of-4 order">
    <div class="inside">
      <div class="slds-m-left_small slds-text-color_weak">
        For check: orderId: {orderId}; contactId: {userId}
      </div>
    </div>

    <lightning-card title="New order" icon-name="custom:custom28">
      <div class="slds-var-p-left_xx-large slds-var-p-right_xx-large">
        <lightning-record-form
          record-id={orderId}
          object-api-name="Custom_Order__c"
          fields={fieldsOfOrder}
          columns="1"
          mode="readonly"
        >
        </lightning-record-form>

        <c-show-positions-in-order
          order-id={orderId}
        ></c-show-positions-in-order>

        <lightning-card title="Recipient" icon-name="standard:avatar">
          <div class="recipient">
            <lightning-record-form
              record-id={userId}
              object-api-name="Contact"
              fields={fields}
              columns="1"
              mode="View"
            >
            </lightning-record-form>
          </div>
        </lightning-card>

        <lightning-input
          data-id="deliveryCheckbox"
          label="delivery"
          class="slds-p-left_medium"
          type="checkbox"
          onchange={handleChange}
        >
        </lightning-input>

        <template if:true={isHideDeliveryDate}>
          <div class="delivery">
            <lightning-input
              data-id="deliveryDate"
              type="date"
              label="Select delivery date"
              value={date}
              onchange={handleChange}
            ></lightning-input>
            <lightning-combobox
              data-id="address"
              name="progress"
              label="Address"
              value={selectedAddressId}
              placeholder="SELECT ONE"
              options={deliveryAddressesOptions}
              onchange={handleChange}
            >
            </lightning-combobox>

            <div class="slds-m-top_small">
              <c-add-new-address
                contact-id={userId}
                onrefresh={refresh}
              ></c-add-new-address>
            </div>
          </div>
        </template>

        <lightning-radio-group
          data-id="typeOfPayment"
          name="radioGroup"
          label="Type of payment"
          options={typeOfPaymentOptions.data}
          value={typeOfPayment}
          type="radio"
          onchange={handleChange}
          class="slds-p-left_medium slds-m-top_medium slds-m-bottom_medium"
        ></lightning-radio-group>

        <lightning-input
          data-id="description"
          type="text"
          label="Description"
          value={description}
          onchange={handleChange}
          class="description"
        ></lightning-input>

        <div class="slds-button-group slds-m-top_small" role="group">
          <lightning-button
            variant="destructive-text"
            type="submit"
            label="Cancel order"
            onclick={handleCancelOrder}
          >
          </lightning-button>

          <lightning-button
            variant="brand"
            type="submit"
            label="Order"
            onclick={handleSubmitForOrder}
            class="slds-m-left_medium"
          >
          </lightning-button>
        </div>
      </div>
    </lightning-card>
  </div>
  <div class="slds-theme_default">
    <template if:true={isCongratulationModalOpen}>
      <c-congratulation-page contact-id={userId}></c-congratulation-page>
    </template>
  </div>
</template>
