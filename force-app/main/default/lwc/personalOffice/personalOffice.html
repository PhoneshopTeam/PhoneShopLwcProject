<template>
  <lightning-card title="Personal office" icon-name="standard:avatar">
    <lightning-record-edit-form record-id={contactId} object-api-name="Contact">
      <lightning-messages> </lightning-messages>
      <lightning-input-field field-name="FirstName"> </lightning-input-field>
      <lightning-input-field field-name="LastName"> </lightning-input-field>
      <lightning-input-field field-name="Phone"> </lightning-input-field>
      <lightning-input-field field-name="Email"> </lightning-input-field>
      <lightning-output-field field-name="Personal_discont__c">
      </lightning-output-field>
      <lightning-button
        class="slds-m-top_small"
        variant="brand"
        type="submit"
        name="update"
        label="Update"
      >
      </lightning-button>
    </lightning-record-edit-form>
    <div class="slds-button-group" role="group">
      <lightning-button
        class="slds-m-top_small"
        variant="neutral"
        type="submit"
        label={labelOfOrderButton}
        onclick={handleViewOrders}
      >
      </lightning-button>
      <lightning-button
        class="slds-m-top_small"
        variant="neutral"
        type="submit"
        label={labelOfCaseButton}
        onclick={handleViewCases}
      >
      </lightning-button>
      <lightning-button
        class="slds-m-top_small"
        variant="neutral"
        type="submit"
        label={labelOfAddressesButton}
        onclick={handleViewAddresses}
      >
      </lightning-button>
    </div>
    <template if:true={isHideOrders}>
      <lightning-card title="Orders" icon-name="standard:orders">
        <template if:true={orders.data}>
          <lightning-datatable
            key-field="Id"
            data={orders.data}
            columns={columnsForOrders}
            hide-checkbox-column="false"
            onrowaction={navigateToOrderRecord}
          >
          </lightning-datatable>
        </template>
        <template if:true={orders.error}></template>
      </lightning-card>
    </template>
    <template if:true={isHideCases}>
      <lightning-card title="Cases" icon-name="standard:case">
        <template if:true={cases.data}>
          <lightning-datatable
            key-field="Id"
            data={cases.data}
            columns={columnsForCases}
            hide-checkbox-column="false"
            onrowaction={navigateToCaseRecord}
          >
          </lightning-datatable>
        </template>
        <template if:true={cases.error}></template>
      </lightning-card>
    </template>
    <template if:true={isHideAddresses}>
      <lightning-card title="My addresses" icon-name="standard:home">
        <c-add-new-address
          contact-id={contactId}
          onrefresh={refresh}
        ></c-add-new-address>
        <template if:true={addresses.data}>
          <lightning-datatable
            key-field="Id"
            data={addresses.data}
            columns={columnsForAdreses}
            hide-checkbox-column="false"
            onsave={handleSave}
            onrowaction={actionWithAddressRecord}
            draft-values={draftValues}
          >
          </lightning-datatable>
        </template>
        <template if:true={addresses.error}></template>
      </lightning-card>
    </template>
  </lightning-card>
  <c-view-order-info order-id={orderId}></c-view-order-info>
</template>