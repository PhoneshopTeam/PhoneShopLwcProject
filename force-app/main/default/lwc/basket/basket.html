<template>
  <lightning-card>
    <c-header user-id={userId} user-name={userName}></c-header>

    <!--lightning-card title="Basket"-->
    <template if:true={refresh}>
      <div class="slds-m-around_small">
        <template if:true={baskets}>
          <template for:each={baskets} for:item="basket">
            <div class="inside slds-m-top_medium" key={basket.Id}>
              <div class="slds-m-left_medium">
                <p key={basket.Id}>
                  Basket number: <strong>{basket.Name}</strong>
                </p>
              </div>
            </div>

            <c-item-basket
              key={basket.Id}
              basket-id={basket}
              quantity-item={basket.Quantity__c}
              checkbox-value={basket.ProductStatus__c}
              onbutton={handleOrderButton}
              ondelete={handleDeleteButton}
            ></c-item-basket>
          </template>
        </template>
      </div>
      <div
        class="demo-only"
        style="padding: 0.5rem; background: rgb(185, 180, 180)"
      >
        <div class="slds-text-color_inverse">
          <strong>Don`t leave the basket, order your phone(s)!</strong>
        </div>
      </div>

      <div class="slds-p-around_medium">
        <lightning-button
          variant="brand"
          label="Order"
          disabled={disabledCondition}
          onclick={handleOrderClick}
        ></lightning-button>
      </div>
    </template>
  </lightning-card>
  <!--/lightning-card-->
</template>
